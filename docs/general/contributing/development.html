<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Development | Documentation - Jellyfin Project </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Development | Documentation - Jellyfin Project ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="../../images/favicon.png">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../images/header-icon.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="contrib-development">
<h1 id="how-to-contribute-code-to-jellyfin">How to contribute code to Jellyfin</h1>

<p>This page details how our repositories are organized, how to get started editing the code and creating your first pull request, and some general procedures around pull requests in Jellyfin.</p>
<h2 id="what-should-you-work-on">What should you work on?</h2>
<p>There are many projects within the <a href="https://github.com/jellyfin">organization</a> to browse through for contributions.
Summarized here are the two biggest ones, one for backend devs and another for frontend devs.</p>
<ul>
<li><a href="https://github.com/jellyfin/jellyfin">Jellyfin Server</a>: The server portion, built using .NET 6 and C#.</li>
<li><a href="https://github.com/jellyfin/jellyfin-web">Jellyfin Web</a>: The main client application built for browsers, but also used in some of our other clients that are just wrappers.</li>
</ul>
<p>Note that each of the repositories also has its own documentation on how to get started with that project, generally found in the repository README. You can also view the organization <a class="xref" href="source-tree.html">source tree</a> to see how some of the bigger projects are structured.</p>
<p>The best way to get going on some actual development is to look through the <a href="https://github.com/jellyfin/jellyfin/issues">issues list</a> of the associated repository, find an issue you would like to work on, and start hacking! Issues are triaged regularly by the administrative team, and labels assigned that should help you find issues within your skill-set. Once you start working on an issue, please comment on it stating your intent to work on the issue, to avoid unnecessary duplication of work.</p>
<h3 id="major-issue-types">Major Issue Types</h3>
<p>A list of issue types can be found on the <a class="xref" href="issues.html#issue-labels">issue guidelines</a> section.</p>
<h3 id="what-if-there-isnt-an-issue">What if there isn&#39;t an issue?</h3>
<p>If there isn&#39;t already an issue dealing with the changes you want to make, please <a class="xref" href="issues.html">create an issue</a> to track it first, then ensure your PR(s) reference the issue in question. This is especially useful for bugs that are found and then fixed by the author, so both the original issue and the fix can be documented and tracked in detail.</p>
<h2 id="how-should-you-make-changes">How should you make changes?</h2>
<p>Once you&#39;ve found something you want to work on or improve, the next step is to make your changes in the code, test them, then submit a Pull Request (PR) on GitHub.</p>
<p>For simplicity, all examples assume the developer is operating on Linux with SSH access to GitHub, however the general ideas can be applied to HTTP-based GitHub interfaces, and can be translated to Windows or MacOS.</p>
<p>If you aren&#39;t familiar with Git, we recommend the <a href="https://git-scm.com/book/en/v2/Getting-Started-About-Version-Control">official documentation</a> to understand how this version control system works and how to use it.</p>
<h3 id="set-up-your-copy-of-the-repo">Set up your copy of the repo</h3>
<p>The first step is to set up a copy of the Git repository of the project you want to contribute to. Jellyfin follows a &quot;fork, feature-branch, and PR&quot; model for contributions.</p>
<ol>
<li><p>On GitHub, &quot;Fork&quot; the Jellyfin repository you wish to contribute to, to your own user account using the &quot;Fork&quot; button in the relevant repository.</p>
</li>
<li><p>Clone your fork to your local machine and enter the directory:</p>
<pre><code class="lang-sh">git clone git@github.com:yourusername/projectname.git
cd projectname/
</code></pre></li>
<li><p>Add the &quot;upstream&quot; remote, which allows you to pull down changes from the main project easily:</p>
<pre><code class="lang-sh">git remote add upstream git@github.com:jellyfin/projectname.git
</code></pre></li>
<li><p>To get the <code>Jellyfin.Server</code> project to run successfully, checkout both the <a href="https://github.com/jellyfin/jellyfin">server</a>, as well as the <a href="https://github.com/jellyfin/jellyfin-web">web client</a> project.</p>
</li>
<li><p>Build the Jellyfin Web project with NPM, and copy the location of the resulting <code>dist</code> folder.</p>
</li>
<li><p>In your <code>Jellyfin.Server</code> project add an environment variable named <code>JELLYFIN_WEB_DIR</code> with the value set to the full path of your <code>dist</code> folder.</p>
</li>
</ol>
<p>You will now be ready to begin building or modifying the project.</p>
<h3 id="make-changes-to-the-repo">Make changes to the repo</h3>
<p>Once you have your repository, you can get to work.</p>
<ol>
<li><p>Rebase your local branches against upstream <code>master</code> so you are working off the latest changes:</p>
<pre><code class="lang-sh">git fetch --all
git rebase upstream/master
</code></pre></li>
<li><p>Create a local feature branch off of <code>master</code> to make your changes:</p>
<pre><code class="lang-sh">git checkout -b my-feature master
</code></pre></li>
<li><p>Make your changes and commits to this local feature branch.</p>
</li>
<li><p>Repeat step 1 on your local feature branch once you&#39;re done your work, to ensure you have no conflicts with other work done since you stated.</p>
</li>
<li><p>Push up your local feature branch to your GitHub fork:</p>
<pre><code class="lang-sh">git push --set-upstream origin my-feature
</code></pre></li>
<li><p>On GitHub, create a new PR against the upstream <code>master</code> branch following the advice below.</p>
</li>
<li><p>Once your PR is merged, ensure you keep your local branches up-to-date:</p>
<pre><code class="lang-sh">git fetch --all
git checkout master
git rebase upstream/master
git push -u origin master
</code></pre></li>
<li><p>Delete your local feature branch if you no longer need it:</p>
<pre><code class="lang-sh">git branch -d my-feature
</code></pre></li>
</ol>
<h3 id="contributorsmd">CONTRIBUTORS.md</h3>
<p>If it&#39;s your first time contributing code to a particular repository, please add yourself to the <code>CONTRIBUTORS.md</code> file at the bottom of the <code>Jellyfin Contributors</code> section. While GitHub does track this, having the written document makes things clearer if the code leaves GitHub and lets everyone quickly see who&#39;s worked on the project for copyright or praise!</p>
<h2 id="official-branches">Official Branches</h2>
<h3 id="feature-branches">Feature Branches</h3>
<p>From time to time, major projects may come up that require multiple PRs and contributions from multiple people. For these tasks, feature branches specific to the feature should be created, based off of <code>master</code>. This helps allow the work to progress without breaking <code>master</code> for long periods, and allowing those interested in that particular project the ability to work at their own pace instead of racing to fix a broken feature before the next release. To create a feature branch, please communicate with a Core team member and that can be arranged.</p>
<p>Once the feature a feature branch was created for is ready, it can be merged in one shot into <code>master</code> and the feature branch removed. Alternatively, for very-long-lived features, certain &quot;stable&quot; snapshots can be merged into <code>master</code> as required.</p>
<h3 id="the-master-branch">The Master Branch</h3>
<p>The <code>master</code> branch is the primary face of the project and main development branch. Except for emergency release hotfixes, all PRs should target <code>master</code>. As a general rule, no PR should break master and all PRs should be tested before merging to ensure this does not occur. We&#39;re only human and this is still likely to happen, but you should generally be safe to build off of <code>master</code> if you want the latest and greatest version of Jellyfin.</p>
<h2 id="testing-a-pull-request">Testing a Pull Request</h2>
<p>To test someone else&#39;s pull request, you must import the changes to your local repository.</p>
<ol>
<li><p>Fetch the changes in a pull request and link them to a new local branch:</p>
<pre><code class="lang-sh">git fetch upstream pull/&lt;PR_ID&gt;/head:my-testing-branch
</code></pre><div class="NOTE"><h5>Note</h5><p><code>&lt;PR_ID&gt;</code> is pull request number on GitHub.</p>
</div>
</li>
<li><p>Checkout the new local branch:</p>
<pre><code class="lang-sh">git checkout my-testing-branch
</code></pre></li>
<li><p>Perform any testing or build required to test, then return to master and delete the branch:</p>
<pre><code class="lang-sh">git checkout master
git branch -D my-testing-branch
</code></pre></li>
</ol>
<h2 id="pull-request-guidelines">Pull Request Guidelines</h2>
<p>When submitting a new PR, please ensure you do the following things. If you haven&#39;t, please read <a href="https://chris.beams.io/posts/git-commit/">How to Write a Git Commit Message</a> as it is a great resource for writing useful commit messages.</p>
<ul>
<li><p>Before submitting a PR, squash &quot;junk&quot; commits together to keep the overall history clean. A single commit should cover a single significant change: avoid squashing all your changes together, especially for large PRs that touch many files, but also don&#39;t leave &quot;fixed this&quot;, &quot;whoops typo&quot; commits in your branch history as this is needless clutter in the final history of the project.</p>
</li>
<li><p>Write a good title that quickly describes what has been changed. For example, &quot;Add LDAP support to Jellyfin&quot;. As mentioned in <a href="https://chris.beams.io/posts/git-commit/">How to Write a Git Commit Message</a>, always use the imperative mood, and keep the title short but descriptive. The title will eventually be a changelog entry, so please try to use proper capitalization but no punctuation; note that the Core team may alter titles to better conform to this standard before merging.</p>
</li>
<li><p>For anything but the most trivial changes that can be described fully in the (short) title, follow the PR template and write a PR body to describe, in as much detail as possible:</p>
<ol>
<li><p>Why the changes are being made. Reference specific issues with keywords (<code>fixes</code>, <code>closes</code>, <code>addresses</code>, etc.) if at all possible.</p>
</li>
<li><p>How you approached the issue (if applicable) and briefly describe the changes, especially for large PRs.</p>
</li>
</ol>
</li>
<li><p>If your pull request isn&#39;t finished yet please mark it as a &quot;draft&quot; when you open it. While this tag is in place, the pull request won&#39;t be merged, and reviews should remain as comments only. Once you&#39;re happy with the final state of your PR, please remove this tag; forgetting to do so might result in your PR being unintentionally ignored as still under active development! Inactive WIPs may occasionally elicit pings from the team inquiring on the status, and closed if there is no response.</p>
</li>
<li><p>Avoid rebasing and force-pushing to large or complex pull requests if at all possible, and especially after reviews. It forces unnecessary reviews to verify the changes are still okay and build properly.</p>
</li>
<li><p>Expect review and discussion. If you can&#39;t back up your changes with a good description and through review, please reconsider whether it should be done at all. All PRs to <code>dev</code> require at least one approving review from an administrative team member, however we welcome and encourage reviews from any contributor, especially if it&#39;s in an area you are knowledgeable about. More eyes are always better.</p>
</li>
<li><p>All PRs require review by at least two team members before being merged into <code>master</code>, though reviews from any contributor are welcome! After the second team member review the PR may be merged immediately, or more review or feedback requested explicitly from other contributors if required.</p>
</li>
</ul>
<h2 id="building-and-testing-inside-a-docker-container">Building and Testing Inside a Docker Container</h2>
<p>We need to install all development dependencies and pull down the code inside the container before we can compile and run.</p>
<div class="NOTE"><h5>Note</h5><p>Run each command on a separate line. The container we&#39;ll test in is named <code>jftest</code>. Within Docker, anytime the entrypoint executable is terminated, the session restarts, so just exec into it again to continue. This is also why we explicitly kill it to reload the new version.</p>
</div>
<h3 id="master-branch">Master Branch</h3>
<pre><code class="lang-sh">docker exec -ti jftest bash
apt-get update &amp;&amp; apt-get install git gnupg wget apt-transport-https curl autoconf g++ make libpng-dev gifsicle automake libtool make gcc musl-dev nasm
wget -qO- https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor &gt; microsoft.asc.gpg &amp;&amp; mv microsoft.asc.gpg /etc/apt/trusted.gpg.d/
wget -q https://packages.microsoft.com/config/debian/10/prod.list &amp;&amp; mv prod.list /etc/apt/sources.list.d/microsoft-prod.list
apt-get update &amp;&amp; apt-get install dotnet-sdk-6.0 npm
cd /opt &amp;&amp; git clone https://github.com/jellyfin/jellyfin.git &amp;&amp; git clone https://github.com/jellyfin/jellyfin-web.git
cd jellyfin/ &amp;&amp; DOTNET_CLI_TELEMETRY_OPTOUT=1 dotnet publish --disable-parallel Jellyfin.Server --configuration Debug --output=&quot;/jellyfin&quot; --self-contained --runtime linux-x64
cd /opt/jellyfin-web &amp;&amp; npm install &amp;&amp; cp -r /opt/jellyfin-web/dist /jellyfin/jellyfin-web
kill -15 $(pidof jellyfin)
</code></pre><h3 id="pull-request">Pull Request</h3>
<p>First, complete the steps above to setup your container to build the master branch.</p>
<div class="NOTE"><h5>Note</h5><p><code>&lt;PR_ID&gt;</code> is pull request number on GitHub.</p>
</div>
<pre><code class="lang-sh">docker exec -ti jftest bash
cd /opt/jellyfin
git fetch origin pull/&lt;PR_ID&gt;/head:my-testing-branch
git merge my-testing-branch
dotnet build
kill -15 $(pidof jellyfin)
</code></pre></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/jellyfin/jellyfin-docs/blob/master/general/contributing/development.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
